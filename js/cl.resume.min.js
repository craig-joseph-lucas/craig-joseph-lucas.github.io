var CL=Window.CL||{};(function($,w){'use strict';CL.ResumeConstructor=function(){};CL.ResumeConstructor.prototype={init:function(){this.setCache();this.objectInit();this.ActionLinks.init.call(this);this.Projects.init.call(this);this.Nav.init.call(this);},setCache:function(){$.ajaxSetup({cache:true});},objectInit:function(){this.settings=[];this.settings.linkedIn='http://www.linkedin.com/in/craigjosephlucas';this.settings.email='craig.joseph.lucas@gmail.com';this.$jq=[];this.$jq.$resume=$('#resume');this.$jq.$email=this.$jq.$resume.find('#email');this.$jq.$print=this.$jq.$resume.find('#print');this.$jq.$pdf=this.$jq.$resume.find('#pdf');this.$jq.$pLinks=this.$jq.$resume.find('#projects li a');},Nav:{init:function(){this.Nav.events.click.call(this);},events:{click:function(){var $navDiv=$('#resumeNav'),_self=this,$page=$('html, body'),$link;$navDiv.find('li a').on("click.sectionAnchor",function(e){$link=$($(this).attr('href'));e.preventDefault();$page.animate({scrollTop:$link.offset().top},1200);return false;});}}},ActionLinks:{init:function(){this.ActionLinks.email.call(this);this.ActionLinks.print.call(this);this.ActionLinks.pdf.call(this);},email:function(){var uri="mailto:?craig.joseph.lucas@gmail.com";this.$jq.$email.on("click.email",function(e){w.open(uri);e.preventDefault();});},print:function(){this.$jq.$print.on("click.print",function(e){w.print();e.preventDefault();});},pdf:function(){this.$jq.$pdf.on("click.pdf",function(e){w.open("LucasCraigResume.pdf");e.preventDefault();});}},Projects:{init:function(){var html;this.Projects.setup();this.Projects.load.call(this);this.Projects.events.init.call(this);},setup:function(){this.$modal=$('#projectModal');this.$projects=$('#projects');this.angTpl=$('#tpl-project').html();this.data={};},load:function(){var html,_self=this;$.getJSON('js/portfolio-pages.json',function(data){_self.Projects.data=data.pages;});},modal:function(){this.Projects.$modal.modal('show');},events:{init:function(){this.Projects.project.bind.call(this);}},project:{bind:function(){var _self=this;this.Projects.$projects.find('a').on("click.launchProject",function(e){_self.Projects.project.load.call(_self,e);});},load:function(e){var html,pageName=e.currentTarget.dataset.pageName,_self=this;$.each(this.Projects.data,function(i,page){if(pageName===page.name){html=_self.Projects.project.html.call(_self,page);_self.Projects.project.inject.call(_self,html);_self.Projects.modal.call(_self);}});},html:function(set){var html;html=Mustache.to_html(this.Projects.angTpl,set);return html;},inject:function(html){this.Projects.$modal.empty().append(html);}}}};CL.Resume=new CL.ResumeConstructor();$(function(){CL.Resume.init();});}(window.jQuery,window));